(jbuild_version 1)

(alias
 ((name runtest_indent)
  (deps ( ;; Hack... list all directories
         (glob_files scripts/*.ml)
         (glob_files scripts/*.mli)
         (glob_files src/*.ml)
         (glob_files src/*.mli)
         (glob_files src/attacker/*.ml)
         (glob_files src/attacker/*.mli)
         (glob_files src/client/*.ml)
         (glob_files src/client/*.mli)
         (glob_files src/client/embedded/alpha/*.ml)
         (glob_files src/client/embedded/alpha/*.mli)
         (glob_files src/client/embedded/demo/*.ml)
         (glob_files src/client/embedded/demo/*.mli)
         (glob_files src/client/embedded/genesis/*.ml)
         (glob_files src/client/embedded/genesis/*.mli)
         (glob_files src/compiler/*.ml)
         (glob_files src/compiler/*.mli)
         (glob_files src/environment/sigs_packer/*.ml)
         (glob_files src/environment/sigs_packer/*.mli)
         (glob_files src/environment/v1/*.ml)
         (glob_files src/environment/v1/*.mli)
         (glob_files src/micheline/*.ml)
         (glob_files src/micheline/*.mli)
         (glob_files src/minutils/*.ml)
         (glob_files src/minutils/*.mli)
         (glob_files src/node/db/*.ml)
         (glob_files src/node/db/*.mli)
         (glob_files src/node/main/*.ml)
         (glob_files src/node/main/*.mli)
         (glob_files src/node/net/*.ml)
         (glob_files src/node/net/*.mli)
         (glob_files src/node/shell/*.ml)
         (glob_files src/node/shell/*.mli)
         (glob_files src/node/updater/*.ml)
         (glob_files src/node/updater/*.mli)
         (glob_files src/proto/alpha/*.ml)
         (glob_files src/proto/alpha/*.mli)
         (glob_files src/proto/demo/*.ml)
         (glob_files src/proto/demo/*.mli)
         (glob_files src/proto/genesis/*.ml)
         (glob_files src/proto/genesis/*.mli)
         (glob_files src/utils/*.ml)
         (glob_files src/utils/*.mli)
         (glob_files test/lib/*.ml)
         (glob_files test/lib/*.mli)
         (glob_files test/p2p/*.ml)
         (glob_files test/p2p/*.mli)
         (glob_files test/proto_alpha/*.ml)
         (glob_files test/proto_alpha/*.mli)
         (glob_files test/shell/*.ml)
         (glob_files test/shell/*.mli)
         (glob_files test/utils/*.ml)
         (glob_files test/utils/*.mli)
         ))
  (action (run bash ${path:scripts/test-ocp-indent.sh}))))

(alias
 ((name runtest)
  (deps ((alias runtest_indent)))))
